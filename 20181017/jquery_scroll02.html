<!DOCTYPE html>
<html lang="ko">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta charset="UTF-8">
	<title>jquery scroll02</title>
	<script src="../js/jquery-3.3.1.min.js"></script>
	<link rel="stylesheet" href="../CSS/reset.css">
	<style>
		.wrap{margin:50px;}
		.content{border:1px dotted #f00;}
		div.menu-container{width:100%;}
		div.menu-container ul{width:100%;}
		div.menu-container ul:after{content:"";display:block;clear:both;}
		div.menu-container ul li{float:left;width:20%;height:30px;text-align:center;background:skyblue;border-right:1px solid #ddd;line-height:30px;cursor:pointer;transition:0.3s;}
		div.menu-container ul li:hover{background:#00f;color:white;}
		div.menu-container ul li:last-child{botder-right:none;}
		div.menu-container ul.fixed{position:fixed;top:0;left:0;z-index:10;}
		div.menu-container ul.fixed li{line-height:100px;height:100px;}
		.content{position:relative;}
		#img01{width:120px;position:absolute;left:0;opacity:0;}
		#img02{width:120px;position:absolute;right:0;opacity:0;}
	</style>
	<script>
		$(function(){
			var $menu = $(".menu-container");
			var $car1 = $("#img01");
			var $car2 = $("#img02");
			var menuPos = $menu.offset().top;
			var car1Pos = $car1.offset().top;
			var car2Pos = $car2.offset().top;
			$(window).on("scroll",function(){
			// $(window).on("resize",function(){});
			var scrollY = window.pageYOffset;
			console.log("scrolly:"+scrollY+ ",car position:"+car1Pos);

			if(scrollY > menuPos){
				$menu.find("ul").addClass("fixed");
			}else{$menu.find("ul").removeClass("fixed");}

			if(scrollY > car1Pos - 500){
				$car1.stop().animate({left:100,opacity:1});
			}else{
				$car1.stop().animate({left:0,opacity:0});
			}

			if(scrollY > car2Pos - 500){
				$car2.stop().animate({right:100,opacity:1})
			}else{
				$car2.stop().animate({right:0,opacity:0});
			}
			});
		});
	</script>
</head>
<body>
	<div class="wrap">
		<div class="content">
				<p>01</p>
				<p>02</p>
				<p>03</p>
				<p>04</p>
				<p>05</p>
				<p>06</p>
				<p>07</p>
				<p>08</p>
				<p>09</p>
				<p>10</p>
				<p>11</p>
				<p>12</p>
				<p>13</p>
				<p>14</p>
				<p>15</p>
				<p>16</p>
				<p>17</p>
				<p>18</p>
				<p>19</p>
				<p>20</p>
				<p>21</p>
				<p>22</p>
				<p>23</p>
				<p>24</p>
				<p>25</p>
				<p>26</p>
				<p>27</p>
				<p>28</p>
				<p>29</p>
				<p>30</p>
				<p>31</p>
				<p>32</p>
				<p>33</p>
				<p>34</p>
				<p>35</p>
				<p>36</p>
				<p>37</p>
				<p>38</p>
				<p>39</p>
				<p>40</p>
				<p>41</p>
				<p>42</p>
				<p>43</p>
				<p>44</p>
				<p>45</p>
				<p>46</p>
				<p>47</p>
				<p>48</p>
				<p>49</p>
				<p>50</p>
		</div>
		<div class="menu-container">
			<ul>
				<li>menu1</li>
				<li>menu2</li>
				<li>menu3</li>
				<li>menu4</li>
				<li>menu5</li>
			</ul>
		</div>
		<div class="content">
			<p>01</p>
			<p>02</p>
			<p>03</p>
			<p>04</p>
			<p>05</p>
			<p>06
				<img src="../images/car.gif" alt="carimg1" id="img01">
			</p>
			<p>07</p>
			<p>08</p>
			<p>09</p>
			<p>10</p>
			<p>11</p>
			<p>12</p>
			<p>13</p>
			<p>14</p>
			<p>15</p>
			<p>16</p>
			<p>17</p>
			<p>18</p>
			<p>19</p>
			<p>20</p>
			<p>21</p>
			<p>22</p>
			<p>23</p>
			<p>24</p>
			<p>25
				<img src="../images/car.gif" alt="carimg2" id="img02">
			</p>
			<p>26</p>
			<p>27</p>
			<p>28</p>
			<p>29</p>
			<p>30</p>
			<p>31</p>
			<p>32</p>
			<p>33</p>
			<p>34</p>
			<p>35</p>
			<p>36</p>
			<p>37</p>
			<p>38</p>
			<p>39</p>
			<p>40</p>
			<p>41</p>
			<p>42</p>
			<p>43</p>
			<p>44</p>
			<p>45</p>
			<p>46</p>
			<p>47</p>
			<p>48</p>
			<p>49</p>
			<p>50</p>
		</div>
	</div>
</body>
</html>